<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | browser-mpris2</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Implements the MPRIS2 interface for Chrome and Firefox"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="browser-mpris2"><meta property="twitter:description" content="Implements the MPRIS2 interface for Chrome and Firefox"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/Lt-Mayonesa/browser-mpris2"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/how_to.html"><a href="manual/how_to.html" data-ice="link">How To</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#0--default-works" data-ice="link">0. Default Works</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#1--create-a-provider" data-ice="link">1. Create a provider</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#2--update-manifest-json" data-ice="link">2. Update manifest.json</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#3--write-your-provider" data-ice="link">3. Write your provider</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/how_to.html"><a href="manual/how_to.html#-a-href--https---lt-mayonesa-github-io-browser-mpris2-class-src-browser-main-player-js-player-html--player--a-" data-ice="link">Player</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/how_to.html"><a href="manual/how_to.html#-a-href--https---lt-mayonesa-github-io-browser-mpris2-class-src-browser-main-playback-js-playback-html--playback--a---singleton-" data-ice="link">Playback (singleton)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/how_to.html"><a href="manual/how_to.html#-a-href--https---lt-mayonesa-github-io-browser-mpris2-class-src-browser-main-page-js-page-html--page--a---singleton-" data-ice="link">Page (singleton)</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#4--document-it" data-ice="link">4. Document it</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/how_to.html"><a href="manual/how_to.html#5--pr-it" data-ice="link">5. PR it</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-user-index" data-ice="manualUserIndex"><h1 id="about">About</h1><p>Out of the box this project has support for <code>video</code> and <code>audio</code> tags in all sites with the following features.</p>
<ul>
<li>Play/Pause: play and pause it&apos;s playback.</li>
<li>Stop: pause the playback and go back to the start.</li>
<li>Seek: advance/go back 10 seconds.</li>
<li>Set position: indicate the desired position of playback.</li>
<li>Volume: control the medias pertinent volume.</li>
<li>Raise: show the tab that is playing the media.</li>
<li>Quit: close the tab that is playing the media.</li>
<li>Cover art: we use the sites domain to search for it&apos;s logo.</li>
<li>Looping: toggle between default playback or looping the current track.</li>
</ul>
<h2 id="providers">Providers</h2><p>By extending this projects base classes it is possible to modify the default interaction with each site for specific sites. We call them providers. </p>
<p>If you would like to contribute with a provider see the <a href="manual/how_to.html">how to</a> manual.</p>
<h2 id="support">Support</h2><table>
<thead>
<tr>
<th>Support</th>
<th>default</th>
<th>YouTube</th>
<th>YouTube Music</th>
<th>SoundCloud</th>
<th>Netflix</th>
<th>Spotify</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cover Art</td>
<td>domain logo</td>
<td>video&apos;s thumbnail</td>
<td>song&apos;s cover</td>
<td>song&apos;s cover</td>
<td>netflix logo</td>
<td>song&apos;s cover</td>
</tr>
<tr>
<td>Title</td>
<td>page title</td>
<td>video&apos;s title</td>
<td>song&apos;s title</td>
<td>song&apos;s title</td>
<td>movie/show title</td>
<td>song&apos;s title</td>
</tr>
<tr>
<td>Artists</td>
<td>page host</td>
<td>video&apos;s owner</td>
<td>song&apos;s artist</td>
<td>song&apos;s artist</td>
<td>movie/show</td>
<td>song&apos;s artist</td>
</tr>
<tr>
<td>PlayPause</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Stop</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Next</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Previous</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Rate</td>
<td>no</td>
<td>yes</td>
<td>no</td>
<td>no</td>
<td>no</td>
<td>no</td>
</tr>
<tr>
<td>Volume</td>
<td>yes(no UI)</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Shuffle</td>
<td>no</td>
<td>yes (if present)</td>
<td>yes</td>
<td>yes</td>
<td>no</td>
<td>yes</td>
</tr>
<tr>
<td>Loop</td>
<td>TRACK/NONE</td>
<td>full</td>
<td>full</td>
<td>full</td>
<td>no</td>
<td>full</td>
</tr>
</tbody>
</table>
<h3 id="loop">Loop</h3><p>Full loop supports cycling between Playlist Loop, Track Loop, and None</p>
</div>

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>How To</h1><p>If you would like to contribute with a provider please follow this steps.</p><h2>0. Default Works</h2><p>Ensure the media elements in the site you are interested in are detected.</p><p><em>if you can&apos;t control the media by default then it probably wont be solved by following this instructions.</em></p><h2>1. Create a provider</h2><p>Create a .js file inside src/providers/ with then name (kebab-cased) of the site.</p><h2>2. Update manifest.json</h2><p>Edit the <a href="https://github.com/Lt-Mayonesa/browser-mpris2/blob/master/manifest.json">manifes.json</a>, by adding an item to the <code>&quot;content_scripts&quot;</code> array.</p><ol>
<li>the item&apos;s <code>&quot;js&quot;</code> property should contain the path to the file you created in the previous step</li>
<li>the item&apos;s <code>&quot;matches&quot;</code> property should contain a valid match for the site. See <a href="https://developer.chrome.com/extensions/content_scripts">content_scripts</a> for more info.</li>
<li>ie:<pre><code class="lang-json"><code class="source-code prettyprint">{
&quot;matches&quot;: [&quot;*://*.youtube.com/*&quot;, &quot;*://youtube.com/*&quot;],
&quot;js&quot;: [
 &quot;src/providers/youtube.js&quot;
],
&quot;run_at&quot;: &quot;document_start&quot;,
&quot;all_frames&quot;: true
}</code>
</code></pre>
</li>
</ol><h2>3. Write your provider</h2><p>Edit your provider&apos;s .js file by extending and re-assigning (see snippets below) any of the classes inside <code>src/browser/main/</code> as needed. </p><p>You are most likely to only need to extend any of the following three.</p><h3><a href="https://lt-mayonesa.github.io/browser-mpris2/class/src/browser/main/player.js~Player.html">Player</a></h3><p>Besides other things a player defines the metadata (title, artis, coverArt, length) that is sent to the mpris2 interface.
One page will often hold more than one <code>Player</code>, but only one of them will be the <code>activePlayer</code>.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">class MySitePlayer extends Player {

   getCover() {
       return document.getElementById(&apos;element-holding-the-image&apos;).getAttribute(&apos;src&apos;);
   } 

}
Player = MySitePlayer;</code>
</code></pre><h3><a href="https://lt-mayonesa.github.io/browser-mpris2/class/src/browser/main/playback.js~Playback.html">Playback</a> (singleton)</h3><p>This controls the playback of the page. You should override this class in order to better interact with your site.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">class MySitePlayback extends Playback {

   setLoopStatus (status) {
       document.getElementById(&apos;button-that-toogles-loop&apos;).click();
   }

}
Playback = MySitePlayback;</code>
</code></pre><h3><a href="https://lt-mayonesa.github.io/browser-mpris2/class/src/browser/main/page.js~Page.html">Page</a> (singleton)</h3><p>A page is in charge of registering and handling media elements.</p><p>It wouldn&apos;t be strange that you don&apos;t have the need to extend this class.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">   class MySitePage extends Page {

       getTitle() {
           return document.getElementById(&apos;element-with-title&apos;).textContent;
       }

   }
   Page = MySitePage;</code>
</code></pre><h2>4. Document it</h2><p>Add a .md file to the <code>manual/</code> directory containing a summary of what this provider accomplishes. Don&apos;t forget to add it to the <a href="https://github.com/Lt-Mayonesa/browser-mpris2/blob/master/manifest.json">.esdoc.json</a> under the plugins&apos;s <code>name-standard-plugin.option.manual.files</code> property.</p><h2>5. PR it</h2><p>Go ahead and create a pull request. They are always welcome.</p></div>
        <a data-ice="link" href="manual/how_to.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
